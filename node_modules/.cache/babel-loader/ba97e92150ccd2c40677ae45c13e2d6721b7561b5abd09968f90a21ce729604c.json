{"ast":null,"code":"var _jsxFileName = \"/Users/soo/Desktop/wanted-pre-onboarding-frontend/wanted-pre-onboarding-frontend-1/wanted-pre-onboarding/src/components/todo/ToDoItem.js\",\n  _s = $RefreshSig$();\nimport { memo, useCallback, useContext, useState } from 'react';\nimport { dispatchContext } from '../../context/ToDoContext';\nimport { deleteTodo, updateTodo } from '../../api/todo';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TodoItem = _ref => {\n  _s();\n  let {\n    list\n  } = _ref;\n  const [modifyToggle, setModifyToggle] = useState(false);\n  const [content, setContent] = useState(list);\n  const dispatch = useContext(dispatchContext);\n  const handleTodoUpdate = useCallback(content => {\n    updateTodo(content.id, content.todo, content.isCompleted).then(res => {\n      dispatch({\n        type: \"EDIT\",\n        todo: res.data\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }, [list, content]);\n  const handleTodoDelete = useCallback(id => {\n    deleteTodo(id).then(res => {\n      dispatch({\n        type: \"DELETE\",\n        id\n      });\n    }).catch(err => {\n      throw new Error(err);\n    });\n  }, [list]);\n  const onInputChange = useCallback(e => {\n    setContent({\n      ...content,\n      todo: e.target.value\n    });\n  }, [content]);\n  const onCheckClick = () => {\n    setContent({\n      ...content,\n      isCompleted: !list.isCompleted\n    });\n    handleTodoUpdate({\n      ...content,\n      isCompleted: !list.isCompleted\n    });\n  };\n  const handleCompleteBtnClick = () => {\n    if (!content.todo) {\n      // notice(\"error\", \"할 일을 입력해 주세요\");\n      return;\n    }\n    handleTodoUpdate(content);\n    setModifyToggle(false);\n  };\n  const handleCancelBtnClick = () => {\n    setContent({\n      ...content,\n      todo: list.todo\n    });\n    setModifyToggle(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: modifyToggle ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        defaultValue: list.todo,\n        autoFocus: true,\n        onChange: onInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCompleteBtnClick,\n        children: \"\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCancelBtnClick,\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        isCompleted: list.isCompleted,\n        onClick: e => onCheckClick(e),\n        children: list.isCompleted ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {},\n          children: content.todo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: content.todo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setModifyToggle(true),\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          handleTodoDelete(content.id);\n        },\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 7\n  }, this);\n};\n_s(TodoItem, \"sMLklho4WDnSdidfRWFsdR496iw=\");\n_c = TodoItem;\nexport default _c2 = /*#__PURE__*/memo(TodoItem);\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoItem\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["memo","useCallback","useContext","useState","dispatchContext","deleteTodo","updateTodo","React","TodoItem","list","modifyToggle","setModifyToggle","content","setContent","dispatch","handleTodoUpdate","id","todo","isCompleted","then","res","type","data","catch","err","Error","handleTodoDelete","onInputChange","e","target","value","onCheckClick","handleCompleteBtnClick","handleCancelBtnClick"],"sources":["/Users/soo/Desktop/wanted-pre-onboarding-frontend/wanted-pre-onboarding-frontend-1/wanted-pre-onboarding/src/components/todo/ToDoItem.js"],"sourcesContent":["import {memo,useCallback, useContext, useState} from 'react'\nimport { dispatchContext } from '../../context/ToDoContext'\nimport { deleteTodo,updateTodo } from '../../api/todo'\n\nimport React from 'react';\n\nconst TodoItem = ({ list }) => {\n    const [modifyToggle, setModifyToggle] = useState(false);\n    const [content, setContent] = useState(list);\n  \n    const dispatch = useContext(dispatchContext);\n  \n    const handleTodoUpdate = useCallback(\n      (content) => {\n        updateTodo(content.id, content.todo, content.isCompleted)\n          .then((res) => {\n            dispatch({ type: \"EDIT\", todo: res.data });\n          })\n          .catch((err) => {\n            throw new Error(err);\n          });\n      },\n      [list, content]\n    );\n  \n    const handleTodoDelete = useCallback(\n      (id) => {\n        deleteTodo(id)\n          .then((res) => {\n            dispatch({ type: \"DELETE\", id });\n          })\n          .catch((err) => {\n            throw new Error(err);\n          });\n      },\n      [list]\n    );\n  \n    const onInputChange = useCallback(\n      (e) => {\n        setContent({ ...content, todo: e.target.value });\n      },\n      [content]\n    );\n  \n    const onCheckClick = () => {\n      setContent({ ...content, isCompleted: !list.isCompleted });\n      handleTodoUpdate({ ...content, isCompleted: !list.isCompleted });\n    };\n  \n    const handleCompleteBtnClick = () => {\n      if (!content.todo) {\n        // notice(\"error\", \"할 일을 입력해 주세요\");\n        return;\n      }\n      handleTodoUpdate(content);\n      setModifyToggle(false);\n    };\n  \n    const handleCancelBtnClick = () => {\n      setContent({ ...content, todo: list.todo });\n      setModifyToggle(false);\n    };\n  \n    return (\n      <div >\n        {modifyToggle ? (\n          <>\n            <div ></div>\n            <input\n              defaultValue={list.todo}\n              autoFocus\n\n              onChange={onInputChange}\n            />\n            <button onClick={handleCompleteBtnClick} >\n              완료\n            </button>\n            <button  onClick={handleCancelBtnClick}>\n              취소\n            </button>\n          </>\n        ) : (\n          <>\n <div isCompleted={list.isCompleted} onClick={(e) => onCheckClick(e)}> \n       {\n        list.isCompleted?<div style={{}}>{content.todo}</div> : <div>{content.todo}</div>\n       }\n              \n </div>\n  \n            <button onClick={() => setModifyToggle(true)}>\n              수정\n            </button>\n            <button\n\n              onClick={() => {\n                handleTodoDelete(content.id);\n              }}\n            >\n              삭제\n            </button>\n          </>\n        )}\n\n      </div>\n    );\n  };\n  \n  export default memo(TodoItem);\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}